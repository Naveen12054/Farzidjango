{% load static %}
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Update Category-add</title>
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"
    />
    <!-- jQuery -->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/bootstrap.min.css' %}">
    
    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/simple-line-icons.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/ionicons.min.css' %}">
    
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/plugins.css' %}">
    <!-- Main Style CSS -->
    <link rel="stylesheet" href="{% static 'assets/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/search.css' %}">

    <style>
      @media (min-width: 1025px) {
        .h-custom {
          height: 100vh !important;
        }
      }

      .card-registration .select-input.form-control[readonly]:not([disabled]) {
        font-size: 1rem;
        line-height: 2.15;
        padding-left: 0.75em;
        padding-right: 0.75em;
      }

      .card-registration .select-arrow {
        top: 13px;
      }

      .gradient-custom-2 {
        /* fallback for old browsers */
        background: #a1c4fd;

        /* Chrome 10-25, Safari 5.1-6 */
        background: -webkit-linear-gradient(
          to right,
          rgba(161, 196, 253, 1),
          rgba(194, 233, 251, 1)
        );

        /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
        background: linear-gradient(
          to right,
          rgba(161, 196, 253, 1),
          rgba(194, 233, 251, 1)
        );
      }

      .bg-indigo {
        background-color: #4835d4;
      }

      @media (min-width: 992px) {
        .card-registration-2 .bg-indigo {
          border-top-right-radius: 15px;
          border-bottom-right-radius: 15px;
        }
      }

      @media (max-width: 991px) {
        .card-registration-2 .bg-indigo {
          border-bottom-left-radius: 15px;
          border-bottom-right-radius: 15px;
        }
      }
    </style>
    <script>
      $(document).ready(function () {
        $("#subcategory1_name").keyup(function () {
          validatesub1Name("#subcategory1_name");
        });
        $("#subcategory2_name").keyup(function () {
          validatesub2Name("#subcategory2_name");
        });
        $("#subcategory3_name").keyup(function () {
          validatesub3Name("#subcategory3_name");
        });
        $("#subcategory4_name").keyup(function () {
          validatesub4Name("#subcategory4_name");
        });
        $("#category_name").keyup(function () {
          validatecat("#category_name");
        });
        
      });
    
      function validatesub1Name(fieldId) {
        var name = $(fieldId).val();
        var lettersWithSpaces = /^[A-Za-z\s]+$/;
        var submitButton = $("#btn1");
        if (name.trim() === "") {
          $("#subcatspan").html("Enter the  First SubCategory").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else if (!lettersWithSpaces.test(name)) {
          $("#subcatspan").html("Subcategory field contains alphabetical values").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else {
          $("#subcatspan").html("");
          submitButton.prop("disabled", false);
          return true
        }
      }
      
      function validatesub2Name(fieldId) {
        var name = $(fieldId).val();
        var lettersWithSpaces = /^[A-Za-z\s]+$/;
        var submitButton = $("#btn1");
        if (name.trim() === "") {
          $("#subcat2span").html("Enter the  Second SubCategory").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else if (!lettersWithSpaces.test(name)) {
          $("#subcat2span").html("Subcategory field contains alphabetical values").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else {
          $("#subcat2span").html("");
          submitButton.prop("disabled", false);
          return true
        }
      }
      function validatesub3Name(fieldId) {
        var name = $(fieldId).val();
        var lettersWithSpaces = /^[A-Za-z\s]+$/;
        var submitButton = $("#btn1");
        if (name.trim() === "") {
          $("#subcat3span").html("Enter the  Third SubCategory").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else if (!lettersWithSpaces.test(name)) {
          $("#subcat3span").html("Subcategory field contains alphabetical values").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else {
          $("#subcat3span").html("");
          submitButton.prop("disabled", false);
          return true
        }
      }
      function validatesub4Name(fieldId) {
        var name = $(fieldId).val();
        var lettersWithSpaces = /^[A-Za-z\s]+$/;
        var submitButton = $("#btn1");
        if (name.trim() === "") {
          $("#subcat4span").html("Enter the  Fourth SubCategory").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else if (!lettersWithSpaces.test(name)) {
          $("#subcat4span").html("Subcategory field contains alphabetical values").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else {
          $("#subcat4span").html("");
          submitButton.prop("disabled", false);
          return true
        }
      }
      function validatecat(fieldId) {
        var name = $(fieldId).val();
        var lettersWithSpaces = /^[A-Za-z\s]+$/;
        var submitButton = $("#btn1");
        if (name.trim() === "") {
          $("#subcat").html("Enter the Category name").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else if (!lettersWithSpaces.test(name)) {
          $("#subcat").html("category field contains alphabetical values").css("color", "red");
          submitButton.prop("disabled", true);
          return false
        } else {
          $("#subcat").html("");
          submitButton.prop("disabled", false);
          return true
        }
      }
    </script>
  </head>

  <body>
    
    <div class="header-area">
      <div class="header-bottom-area header-sticky">
          <div class="container">
              <div class="row">
                  <div class="col-lg-8 col-md-5 col-5 d-flex mt-2">
                      <div class="logo " style="margin-top: 20px;  margin-right: 180px;">
                          <a href="{% url 'index' %}">
                              <img style="width:100px; height:80px;" src="{% static 'assets\images\logo\lo.jpg' %}" alt="hai"></a>
                      </div>
                      <div class="search mt-4" style="width:500px;">
                         <h2 class="text-uppercase"><B> Update Category</B></h2>
                      </div> 
                      
                  </div>
                  <div class="col-lg-4 d-none d-lg-block ">
                      <div class="main-menu-area text-center ">
                          <nav class="main-navigation ">
                              <ul><li><a href="{% url 'admindashboard' %}" class="nav-link"><B>Dashboard</B> </a></li>
                                  
                                          {% if  user.is_authenticated %}
                                          {% if user.role == 2 %}
                                  
                                          {% else %}
                                                  <li><a href="{% url 'logout' %}" class="nav-item nav-link">Log Out</a></li>
                                  {% endif %}
                                  {% endif %}
                              </ul>
                          </nav>
                      </div>
                  </div>
                  
              </div>
          </div>
      </div>
  </div>
  <!-- header-area end -->
     
        
        <form action="" method="POST" enctype="multipart/form-data">
      {% for i in station %}
      {% csrf_token %}

      <section class="gray ">
        <div class="container-fluid">
          <div class="row justify-content-center">
            <div class="col-lg-9 col-md-8">
              <div class="dashboard-body">
                <div class="dashboard-wraper">
                  <div class="row">
                    <div class="col-lg-12 col-md-12">
                      <div class="submit-page px-0">
                      <div class="frm_submit_block  ">
                        <div class="frm_submit_wrap">
                          
    <div class="d-flex justify-content-center align-items-center" style="height: 28vh;">
      <img class="rounded  " src="{{ i.category_image.url }}" alt="Profile Picture" style="width: 200px; height: 200px;" />
  </div>
    <div class="row"> 
    <div class="form-group col-md-6 pd-20">   
    <label class="form-label" for="form3Examplev2">Category name</label>
    <input type="text"  id="form3Examplev2" name="category_name" class="form-control form-control-lg"
    value="{{ i.category_name }}"/> 
    <span id="catspan"></span>
   </div>

                      
                  
  <div class="form-group col-md-6 pd-20"> 
    <label class="form-label" for="form3Examplev2">Subcategory 1 name</label>
    <input type="text"  id="subcategory1_name" name="subcategory1_name" class="form-control form-control-lg"
    value="{{ i.subcategory1_name }}"/>
    <span id="subcatspan"></span>
  </div>
                
    
  <div class="form-group col-md-6 pd-20"> 
    <label class="form-label" for="form3Examplev2">Subcategory 2 name</label>
    <input type="text"  id="subcategory2_name" name="subcategory2_name" class="form-control form-control-lg"
    value="{{ i.subcategory2_name }}"/>
    
    <span id="subcat2span"></span>
  </div>
    
  <div class="form-group col-md-6 pd-20"> 
    <label class="form-label" for="form3Examplev2">Subcategory 3 name </label>
    <input type="text"  id="subcategory3_name" name="subcategory3_name" class="form-control form-control-lg"
    value="{{ i.subcategory3_name }}"/>
  </div>
  
  <div class="form-group col-md-6 pd-20"> 
    <label class="form-label" for="form3Examplev2">Subcategory 4 name </label>
    <input type="text"  id="subcategory4_name" name="subcategory4_name" class="form-control form-control-lg"
    value="{{ i.subcategory4_name }}"/>
  </div>
      {% endfor %}
      <br>
      <div class="col-md-9 pd-20" style="margin-left: 500px;"> 
      <button type="submit" class="btn btn-light btn-lg" data-mdb-ripple-color="dark" >
        Update </button>
      </div>
    </form>
  </body>
</html>
